{
    "name": "GPU Development Container",
    "dockerComposeFile": "../docker-compose.yml",
    "service": "gpu-dev",
    "workspaceFolder": "/workspace",
    // コンテナ起動後に実行されるコマンド
    "postCreateCommand": "python3.10 --version && nvidia-smi",
    // VSCode設定
    "customizations": {
        "vscode": {
            // 自動インストールする拡張機能
            "extensions": [
                "ms-python.python",
                "ms-python.debugpy",
                "ms-toolsai.jupyter",
                "ms-vscode.vscode-json"
            ],
            // ワークスペース設定
            "settings": {
                "python.defaultInterpreterPath": "/usr/bin/python3.10",
                "python.terminal.activateEnvironment": false,
                "terminal.integrated.defaultProfile.linux": "bash"
            }
        }
    },
    // ポートフォワーディング（Jupyter等で使用）
    "forwardPorts": [
        8888,
        5000
    ],
    // コンテナ内でVSCodeサーバーを実行するユーザー
    "remoteUser": "root",
    // Gitの設定を引き継ぐ
    "mounts": [
        "source=${localEnv:HOME}/.ssh,target=/root/.ssh,type=bind,consistency=cached"
    ],
    // GPU設定の確認
    "runArgs": [
        "--gpus",
        "all"
    ]
}